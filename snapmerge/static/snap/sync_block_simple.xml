<block-definition s="Post to Codezy..." type="command" category="other"><header></header><code></code><translations>de:Poste auf Codezy... </translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>var ide = world.root().children[0];&#xD;&#xD;new DialogBoxMorph(&#xD;	this,&#xD; function(message){&#xD;   var url = "{{url}}";&#xD;   if (window.newUrl){&#xD;      var url = window.newUrl;&#xD;   }&#xD;   url += "&amp;message="+message;&#xD;   var data = ide.getProjectXML();&#xD;   var r =  new XMLHttpRequest();&#xD;   r.open("POST", url, true);&#xD;   r.setRequestHeader("Content-Type", "application/xml");&#xD;		 r.onreadystatechange = function () {&#xD;  	  if(r.readyState === 4 &amp;&amp; r.status === 200) {&#xD;				   ide.showMessage("exported");&#xD;    			window.newUrl = JSON.parse(r.response)["url"];&#xD;      }&#xD;   }&#xD;   r.send(data);&#xD;   },&#xD;       this&#xD;    ).prompt(&#xD;      "What changes have you made?",&#xD;      "",&#xD;      world,&#xD;      null);</l></block><list></list></block></script></block-definition>
